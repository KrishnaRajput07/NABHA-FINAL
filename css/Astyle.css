:root{
    --brand:#2c6d52;
    --brand-2:#53b89a;
    --brand-3:#e1f3ec;
    --bg:#f6fbf8;
    --card:#ffffff;
    --text:#223729;
    --muted:#5f7564;
    --accent:#ff8c42;
    --ok:#3bb273;
    --warn:#f0ad4e;
    --danger:#d9534f;
    --shadow:0 12px 30px rgba(44,109,82,.08);
    --radius:14px;
    --glass: rgba(255,255,255,.6);
  }

  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family: ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji";color:var(--text)}
  body{
    background:
      radial-gradient(1200px 600px at -20% -10%, #e9f7f1 0, transparent 60%),
      radial-gradient(1000px 500px at 120% 110%, #e6f5ef 0, transparent 60%),
      var(--bg);
    display:grid;
    grid-template-rows:64px 1fr;
    grid-template-columns:280px 1fr;
    grid-template-areas: "nav nav" "side main";
    gap:0;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  /* Top Nav */
  .nav{
    grid-area:nav;
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:0 18px;
    background:linear-gradient(90deg,var(--brand) 0%, var(--brand-2) 100%);
    color:#fff;
    position:sticky; top:0; z-index:40;
    box-shadow: 0 6px 18px rgba(44,109,82,.24);
  }
  .brand{display:flex; gap:12px; align-items:center; font-weight:800}
  .logo{width:38px;height:38px;border-radius:50%;display:grid;place-items:center;background:linear-gradient(135deg,#fff6,#fff2);box-shadow:inset 0 0 0 2px #ffffff30}
  .nav-actions{display:flex; gap:10px; align-items:center}
  .chip{padding:6px 10px;border-radius:999px;background:#ffffff22;border:1px solid #ffffff44;font-size:.9rem}
  .btn{border:0;border-radius:12px;padding:9px 14px;background:#fff;color:var(--brand);font-weight:700;cursor:pointer;box-shadow:0 6px 14px rgba(0,0,0,.08);transition:transform .18s,box-shadow .18s}
  .btn:hover{transform:translateY(-2px);box-shadow:0 12px 28px rgba(0,0,0,.12)}
  .btn.ghost{background:transparent;color:#fff;border:1px solid #fff3}
  .btn.accent{background:var(--accent);color:#fff}

  /* Sidebar */
  .side{
    grid-area:side;
    padding:18px;
    border-right:1px solid #e7efe9;
    background:
      linear-gradient(180deg,#ffffffaa 0,#ffffffcc 30%,#ffffffee 100%),
      url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="320" height="320"><text x="10" y="60" font-size="48" opacity=".06">üåæ</text><text x="120" y="160" font-size="40" opacity=".05">üçÉ</text></svg>') repeat;
    background-size:cover,320px 320px;
    overflow:auto;
    position:relative;
  }
  .side h3{margin:6px 0 14px;color:var(--brand)}
  .navlist{display:flex;flex-direction:column;gap:8px}
  .navitem{display:flex;align-items:center;gap:10px;padding:12px;border-radius:12px;color:var(--text);text-decoration:none;cursor:pointer;border:1px solid transparent;transition:all .18s}
  .navitem:hover{background:#eff8f3;border-color:#dceee6}
  .navitem.active{background:var(--brand-3);border-color:#cfe8de;color:var(--brand);box-shadow:var(--shadow)}

  /* Main */
  .main{grid-area:main;padding:20px;overflow:auto;position:relative}
  .title{font-size:1.4rem;color:var(--brand);margin:0 0 10px}
  .card{background:var(--card);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow);transition:transform .18s;overflow:hidden}
  .card.small{padding:12px}
  .grid{display:grid;gap:16px}
  .grid-2{grid-template-columns:1fr 1fr}
  .grid-3{grid-template-columns:repeat(3,1fr)}
  @keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}

  /* badge */
  .badge{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;font-weight:700}
  .badge.ok{background:#e7f7ef;color:#0c6b3a}
  .badge.warn{background:#fff7e6;color:#8a5b00}
  .badge.danger{background:#fdeeee;color:#a12121}

  /* Stock table */
  table{width:100%;border-collapse:collapse;border-radius:10px;overflow:hidden;background:var(--card)}
  th,td{padding:12px 10px;text-align:left;border-bottom:1px solid #eef2ef}
  th{background:linear-gradient(0deg,var(--brand-2),var(--brand-2));color:#fff;position:sticky;top:0}
  .qty{font-weight:800}
  .low{color:#a76a00}
  .out{color:#b20000}

  /* Inputs */
  .input,.select,.textarea{width:100%;padding:10px;border-radius:10px;border:1.6px solid #dfe9e3;background:#fff}
  .input:focus,.select:focus,.textarea:focus{outline:none;box-shadow:0 0 0 5px rgba(83,184,154,.12);border-color:var(--brand-2)}

  /* small helpers */
  .muted{color:var(--muted)}
  .sep{height:1px;background:#edf3ef;margin:8px 0 12px}
  .right{margin-left:auto}
  .avatar{width:46px;height:46px;border-radius:50%;display:grid;place-items:center;background:#dcede5;color:var(--brand);font-weight:800}

  /* Drawer */
  .drawer{position:fixed;top:64px;right:-560px;width:560px;max-width:100vw;height:calc(100% - 64px);background:var(--card);box-shadow:-18px 0 30px rgba(44,109,82,.12);transition:right .36s ease;z-index:60;border-top-left-radius:16px;display:flex;flex-direction:column}
  .drawer.open{right:0}
  .drawer-head{display:flex;align-items:center;justify-content:space-between;padding:16px;border-bottom:1px solid #ecf2ee}
  .drawer-body{padding:18px;overflow:auto;display:grid;gap:14px}

  /* Modal */
  .modal-back{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;align-items:center;justify-content:center;z-index:80}
  .modal-back.show{display:flex}
  .modal{background:var(--card);padding:18px;border-radius:12px;max-width:900px;width:94%;box-shadow:var(--shadow)}

  /* Purchase request card */
  .request{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:12px;border-radius:10px;border:1px solid #eef6f0;background:linear-gradient(180deg,#fff,#fbfffd)}

  /* Actions */
  .actions{display:flex;gap:8px;flex-wrap:wrap}
  .btn.line{background:#f5fbf7;color:var(--brand);border:1px solid #cfe8de}
  .pill{padding:6px 10px;border-radius:999px;border:1px solid #dfe9e3;background:#fff;cursor:pointer;font-weight:700}
  .pill.active{background:var(--brand-3);border-color:#cfe8de;color:var(--brand)}

  /* floating support buttons (mobile) */
  .mobile-footer{display:none;position:fixed;bottom:12px;right:12px;z-index:70;gap:8px}
  .mobile-footer .btn{padding:10px 12px}

  /* subtle animation utilities */
  .fade-in{animation:fadeIn .36s ease both}
  .slide-up{transform-origin:bottom;animation:slideUp .36s cubic-bezier(.2,.9,.3,1)}
  @keyframes slideUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:none}}

  /* ===== Responsive Enhancements ===== */
  @media (max-width: 1080px){
    body{grid-template-columns:80px 1fr}
    .hide-md{display:none}
  }
  @media (max-width: 820px){
    body{grid-template-columns:1fr;grid-template-rows:64px 1fr auto;grid-template-areas:"nav" "main" "side"}
    .side{grid-area:side;display:flex;gap:8px;overflow-x:auto;white-space:nowrap;background:#fff;border-right:0;border-top:1px solid #e7efe9}
    .navlist{flex-direction:row}
    .mobile-footer{display:flex}
    .drawer{top:56px}
  }

  @media (max-width: 600px){
    .nav-actions{flex-direction:column;align-items:flex-start;gap:6px}
    .quick{margin-left:0}
    .btn{padding:8px 12px;font-size:.9rem}
    .title{font-size:1.2rem}
    .patients{grid-template-columns:1fr}
    .grid-2,.grid-3{grid-template-columns:1fr}
    .drawer{width:100%;border-radius:0;height:92%;bottom:0;top:auto}
    .drawer-head{flex-direction:column;align-items:flex-start;gap:8px}
    .btn{width:100%}
    .side{position:fixed;left:-260px;top:0;height:100%;transition:left .28s ease;z-index:1000}
    .side.open{left:0}
  }
  @media (max-width:400px){
    .brand div{font-size:.9rem}
    .chip{font-size:.75rem;padding:4px 8px}
    .input,.select{font-size:.95rem}
  }
  
  /* Hidden class for tabs */
  .hidden { display: none; }